<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å’¨è¯¢å¸ˆè¯¦æƒ…é¡µé¢æµ‹è¯•</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, sans-serif;
            padding: 20px;
            max-width: 800px;
            margin: 0 auto;
            background-color: #f5f5f5;
        }
        .detail-card {
            background: white;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        .section-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 15px;
            color: #333;
        }
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }
        .stat-item {
            text-align: center;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 6px;
        }
        .stat-number {
            display: block;
            font-size: 24px;
            font-weight: bold;
            color: #1976d2;
            margin-bottom: 5px;
        }
        .stat-label {
            font-size: 14px;
            color: #666;
        }
        .activity-list {
            margin-top: 10px;
        }
        .activity-item {
            display: flex;
            align-items: center;
            padding: 12px;
            background: #f8f9fa;
            border-radius: 6px;
            margin-bottom: 10px;
        }
        .activity-icon {
            font-size: 20px;
            margin-right: 12px;
        }
        .activity-content {
            flex: 1;
        }
        .activity-text {
            display: block;
            font-size: 14px;
            color: #333;
            margin-bottom: 4px;
        }
        .activity-time {
            font-size: 12px;
            color: #999;
        }
        .loading {
            color: #999;
            font-style: italic;
        }
        .load-btn {
            background: #1976d2;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            margin: 10px 5px;
        }
        .load-btn:hover {
            background: #1565c0;
        }
        .loaded {
            color: #4caf50;
            font-weight: 500;
        }
    </style>
</head>
<body>
    <h1>å’¨è¯¢å¸ˆè¯¦æƒ…é¡µé¢ - åŠ è½½æ›´å¤šä¿¡æ¯æ¼”ç¤º</h1>
    
    <div class="detail-card">
        <h2 class="section-title">å’¨è¯¢å¸ˆåŸºæœ¬ä¿¡æ¯</h2>
        <div style="display: flex; align-items: center; margin-bottom: 20px;">
            <div style="margin-right: 20px;">
                <div style="width: 80px; height: 80px; background: #e0e0e0; border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                    ğŸ‘¤
                </div>
            </div>
            <div>
                <h3 style="margin: 0 0 5px 0;">å¼ å¿ƒç†</h3>
                <p style="margin: 0; color: #666;">é«˜çº§å¿ƒç†å’¨è¯¢å¸ˆ</p>
                <p style="margin: 5px 0 0 0; color: #999;">ID: 12345 | ä»ä¸š8å¹´</p>
            </div>
        </div>
    </div>

    <div class="detail-card">
        <h2 class="section-title">
            æœåŠ¡ç»Ÿè®¡ä¿¡æ¯
            <span id="stats-status" class="loading">ç­‰å¾…åŠ è½½...</span>
        </h2>
        <div class="stats-grid" id="stats-container">
            <div class="stat-item">
                <span class="stat-number" id="total-consultations">--</span>
                <span class="stat-label">æ€»å’¨è¯¢æ¬¡æ•°</span>
            </div>
            <div class="stat-item">
                <span class="stat-number" id="completed-consultations">--</span>
                <span class="stat-label">å·²å®Œæˆå’¨è¯¢</span>
            </div>
            <div class="stat-item">
                <span class="stat-number" id="average-rating">--</span>
                <span class="stat-label">å¹³å‡è¯„åˆ†</span>
            </div>
            <div class="stat-item">
                <span class="stat-number" id="retention-rate">--</span>
                <span class="stat-label">å®¢æˆ·ç•™å­˜ç‡</span>
            </div>
            <div class="stat-item">
                <span class="stat-number" id="this-month">--</span>
                <span class="stat-label">æœ¬æœˆå’¨è¯¢</span>
            </div>
            <div class="stat-item">
                <span class="stat-number" id="response-time">--</span>
                <span class="stat-label">å¹³å‡å“åº”æ—¶é—´</span>
            </div>
            <div class="stat-item">
                <span class="stat-number" id="ranking">--</span>
                <span class="stat-label">è¯„åˆ†æ’å</span>
            </div>
            <div class="stat-item">
                <span class="stat-number" id="revenue">--</span>
                <span class="stat-label">æ€»æ”¶å…¥</span>
            </div>
        </div>
        <button class="load-btn" onclick="loadStats()">ğŸ“Š åŠ è½½è¯¦ç»†ç»Ÿè®¡</button>
    </div>

    <div class="detail-card">
        <h2 class="section-title">
            æœ€è¿‘æ´»åŠ¨
            <span id="activities-status" class="loading">ç­‰å¾…åŠ è½½...</span>
        </h2>
        <div class="activity-list" id="activities-container">
            <div class="activity-item">
                <div class="activity-icon">ğŸ“</div>
                <div class="activity-content">
                    <span class="activity-text">åŸºæœ¬ä¿¡æ¯åŠ è½½å®Œæˆ</span>
                    <span class="activity-time">åˆšåˆš</span>
                </div>
            </div>
        </div>
        <button class="load-btn" onclick="loadActivities()">ğŸ“… åŠ è½½æ´»åŠ¨è®°å½•</button>
        <button class="load-btn" onclick="loadReviews()">â­ åŠ è½½å®¢æˆ·è¯„ä»·</button>
    </div>

    <script>
        // æ¨¡æ‹Ÿ API è°ƒç”¨
        function simulateAPICall(data, delay = 1000) {
            return new Promise(resolve => {
                setTimeout(() => {
                    resolve({
                        success: true,
                        data: data
                    });
                }, delay);
            });
        }

        // åŠ è½½ç»Ÿè®¡ä¿¡æ¯
        async function loadStats() {
            document.getElementById('stats-status').textContent = 'åŠ è½½ä¸­...';
            
            try {
                const response = await simulateAPICall({
                    totalConsultations: 256,
                    completedConsultations: 231,
                    averageRating: 4.8,
                    clientRetentionRate: 85,
                    thisMonthConsultations: 23,
                    responseTime: 2.5,
                    totalRevenue: 28500,
                    ranking: 5
                });

                if (response.success) {
                    const stats = response.data;
                    document.getElementById('total-consultations').textContent = stats.totalConsultations;
                    document.getElementById('completed-consultations').textContent = stats.completedConsultations;
                    document.getElementById('average-rating').textContent = stats.averageRating;
                    document.getElementById('retention-rate').textContent = stats.clientRetentionRate + '%';
                    document.getElementById('this-month').textContent = stats.thisMonthConsultations;
                    document.getElementById('response-time').textContent = stats.responseTime + 'h';
                    document.getElementById('ranking').textContent = 'ç¬¬' + stats.ranking + 'å';
                    document.getElementById('revenue').textContent = 'Â¥' + stats.totalRevenue;
                    
                    document.getElementById('stats-status').textContent = 'âœ… å·²åŠ è½½';
                    document.getElementById('stats-status').className = 'loaded';
                }
            } catch (error) {
                document.getElementById('stats-status').textContent = 'âŒ åŠ è½½å¤±è´¥';
            }
        }

        // åŠ è½½æ´»åŠ¨è®°å½•
        async function loadActivities() {
            document.getElementById('activities-status').textContent = 'åŠ è½½ä¸­...';
            
            try {
                const response = await simulateAPICall([
                    {
                        id: 1,
                        type: 'consultation',
                        description: 'å®Œæˆäº†ä¸€æ¬¡å¿ƒç†å’¨è¯¢ - ç„¦è™‘æƒ…ç»ªç–å¯¼',
                        time: '2å°æ—¶å‰'
                    },
                    {
                        id: 2,
                        type: 'login',
                        description: 'ç™»å½•ç³»ç»Ÿï¼Œæ›´æ–°åœ¨çº¿çŠ¶æ€',
                        time: '4å°æ—¶å‰'
                    },
                    {
                        id: 3,
                        type: 'completion',
                        description: 'å®Œæˆè®¤çŸ¥è¡Œä¸ºæ²»ç–—ç–—ç¨‹',
                        time: '1å¤©å‰'
                    }
                ]);

                if (response.success) {
                    const activities = response.data;
                    const container = document.getElementById('activities-container');
                    
                    activities.forEach(activity => {
                        const activityElement = document.createElement('div');
                        activityElement.className = 'activity-item';
                        activityElement.innerHTML = `
                            <div class="activity-icon">${getActivityIcon(activity.type)}</div>
                            <div class="activity-content">
                                <span class="activity-text">${activity.description}</span>
                                <span class="activity-time">${activity.time}</span>
                            </div>
                        `;
                        container.appendChild(activityElement);
                    });
                    
                    document.getElementById('activities-status').textContent = 'âœ… å·²åŠ è½½æ´»åŠ¨è®°å½•';
                    document.getElementById('activities-status').className = 'loaded';
                }
            } catch (error) {
                document.getElementById('activities-status').textContent = 'âŒ åŠ è½½å¤±è´¥';
            }
        }

        // åŠ è½½å®¢æˆ·è¯„ä»·
        async function loadReviews() {
            try {
                const response = await simulateAPICall([
                    {
                        id: 1,
                        rating: 5,
                        comment: 'å¼ è€å¸ˆå¾ˆä¸“ä¸šï¼Œå¸®åŠ©æˆ‘å¾ˆå¤§',
                        time: '3å¤©å‰'
                    },
                    {
                        id: 2,
                        rating: 4,
                        comment: 'å’¨è¯¢æ•ˆæœä¸é”™ï¼Œæ€åº¦å¾ˆå¥½',
                        time: '1å‘¨å‰'
                    }
                ]);

                if (response.success) {
                    const reviews = response.data;
                    const container = document.getElementById('activities-container');
                    
                    reviews.forEach(review => {
                        const reviewElement = document.createElement('div');
                        reviewElement.className = 'activity-item';
                        reviewElement.innerHTML = `
                            <div class="activity-icon">â­</div>
                            <div class="activity-content">
                                <span class="activity-text">æ”¶åˆ° ${review.rating} æ˜Ÿè¯„ä»·: "${review.comment}"</span>
                                <span class="activity-time">${review.time}</span>
                            </div>
                        `;
                        container.appendChild(reviewElement);
                    });
                }
            } catch (error) {
                console.error('åŠ è½½å®¢æˆ·è¯„ä»·å¤±è´¥:', error);
            }
        }

        // è·å–æ´»åŠ¨å›¾æ ‡
        function getActivityIcon(type) {
            switch (type) {
                case 'login': return 'ğŸŸ¢';
                case 'consultation': return 'ğŸ’¬';
                case 'completion': return 'âœ…';
                case 'update_profile': return 'âœï¸';
                default: return 'ğŸ“';
            }
        }

        // é¡µé¢åŠ è½½å®Œæˆåè‡ªåŠ¨æ¼”ç¤º
        window.onload = function() {
            // 3ç§’åè‡ªåŠ¨å¼€å§‹åŠ è½½æ¼”ç¤º
            setTimeout(() => {
                console.log('å¼€å§‹è‡ªåŠ¨æ¼”ç¤ºåŠ è½½è¿‡ç¨‹...');
                loadStats();
                
                setTimeout(() => {
                    loadActivities();
                }, 2000);
                
                setTimeout(() => {
                    loadReviews();
                }, 4000);
            }, 1000);
        };
    </script>
</body>
</html>
